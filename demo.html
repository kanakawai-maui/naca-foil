<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>NACA Airfoil</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <style>
            body { margin: 0; }
            .container {
                height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
            }
        </style>
    </head>
<body>
<nav>
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <a class="navbar-brand" style="margin:10px" href="#">NACA Airfoil Demo</a>
    </div>
</nav>
<div style="display: flex;flex-direction:column">
    <div style="margin: 5px">
        <div>
            <input type="text" id="codeInput" class="form-control" placeholder="Enter NACA code (e.g., 0015)">
        </div>
        <div>
            <input type="number" max=300 min=1 id="camberInput" class="form-control" placeholder="Camber (length of chord)">
        </div>
        <div>
            <input type="number" max=100 min=1 id="extrudeDepthInput" class="form-control" placeholder="Extrusion depth (width of wing)">
        </div>
        <button id="refreshButton" class="btn btn-primary">Refresh</button>
    </div>
    <div id="naca-foil"></div>
</div>

<script type="module">
    import { NacaFoilScene } from './src/index.ts';

    const airfoil = new NacaFoilScene("naca-foil");
    const codeInput = document.getElementById('codeInput');
    const extrudeDepthInput = document.getElementById('extrudeDepthInput');
    const camberInput = document.getElementById('camberInput');
    const button = document.getElementById('refreshButton');

    button.addEventListener('click', () => {
        const airfoilCode = codeInput.value || '0015';
        const camber = camberInput?.value ? parseInt(camberInput.value) : 100;
        const extrudeDepth = extrudeDepthInput?.value ? parseInt(extrudeDepthInput.value) : 10;
        airfoil.update(airfoilCode, camber, extrudeDepth);
    });

    airfoil.update('0015', 100, 10, 1);
</script>

</body>
</html>
